Create Inbound API
-----------------------------------

.. table::

   +-------------------+--------------------------------------------+
   | POST              | ``/inbounds``                              |
   +-------------------+--------------------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^
``dynamic`` and ``materials`` must be provided in the request.

.. table::
    :width: 100%

    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | Field Name              | Data Type                                                    | Description                                       | Value                                                 |
    +=========================+==============================================================+===================================================+=======================================================+
    | arrive                  | string *(optional)*                                          | Arrival date (ISO format)                         | "2025-07-16T00:00:00Z"                                |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | content_type            | string *(optional)*                                          | Content type descriptor                           | "inbound"                                             |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | object_id               | integer *(optional)*                                         | Related object ID                                 | 123                                                   |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | entity_name             | string *(optional)*                                          | Name of the entity                                | "client_xyz"                                          |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | order_name              | string *(optional)*                                          | Order name                                        | "Order-ABC-01"                                        |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | entity_id               | string *(optional)*                                          | Entity ID                                         | "d666a904-5739-46c0-b70a-1cd57658a3f6"                |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | order_id                | string *(optional)*                                          | Order ID                                          | "d666a904-5739-46c0-b70a-1cd57658a3f6"                |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | extra_field             | dict *(optional)*                                            | Additional data                                   | {"custom_note": "urgent"}                             |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | name                    | string *(optional)*                                          | Name                                              | "Inbound01"                                           |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | net_amount              | float *(optional)*                                           | Net amount                                        | 1234.56                                               |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | force_request           | boolean *(optional)*                                         | Force API call                                    | false                                                 |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | duplicated_from         | integer *(optional)*                                         | ID of duplicated record                           | 88                                                    |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | branch_id               | integer *(optional)*                                         | Branch ID                                         | 5                                                     |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | dynamic                 | list of dict *(required)*                                    | Dynamic fields                                    | [{"key": "foo", "value": "bar"}]                      |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | materials               | list of dict *(required)*                                    | Material list info                                | [{"id":837,"gross_weight":7,"tare_weight":2}]         |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
    | attachments             | file *(optional)*                                            | A list of files uploaded via multipart/form-data  | ``my_attachment.png``                                 |
    +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

    import requests

    EVREKA360_API_BASE_URL = ""
    ACCESS_TOKEN = ""

    service_url = "/mrf/inbounds"
    headers = {
        "Content-Type": "application/json; charset=utf-8", 
        "Authorization": "Bearer " + ACCESS_TOKEN
    }

    # Data Example #1
    data = {
        "arrive": "2025-07-16T00:00:00Z",
        "content_type": "inbound",
        "object_id": 123,
        "entity_name": "client_xyz",
        "order_name": "Order-ABC-01",
        "entity_id": "d666a904-5739-46c0-b70a-1cd57658a3f6",
        "order_id": "d666a904-5739-46c0-b70a-1cd57658a3f6",
        "extra_field": {"custom_note": "urgent"},
        "name": "Inbound01",
        "net_amount": 1234.56,
        "branch_id": 5,
        "dynamic": [{"key": "foo", "value": "bar"}],
        "materials": [{"id": 837, "gross_weight": 7, "tare_weight": 2}],
        "attachments": [
            ('attachments', ('sample.jpg', open('<path-to-sample.jpg>', 'rb'), 'image/jpeg')),
            ('attachments', ('sample2.jpg', open('<path-to-sample2.jpg>', 'rb'), 'image/jpeg'))
        ]
        }

    resp = requests.post(EVREKA360_API_BASE_URL + service_url, headers=headers, json=data)
    print(resp.status_code, resp.json())

Response
^^^^^^^^^^^^^^^^^
*Status Code:* ``200`` - Retrieved successfully
*Content Type:* ``application/json``
*Body:*

.. code-block:: json 

    {
        "id": "Inbound ID - Integer",
        "external_id": "External ID - String",
        "status": "Status Name - String",
        "arrive": "Arrival Date - String",
        "name": "Inbound Name - String",
        "entity_name": "Entity Name - String",
    }

    
.. code-block:: tex

Status Code:* ``400`` - Bad request
*Content Type:* ``application/json``
*Body:*

.. code-block:: json

    {
        "detail":"An error occurred while creating the Inbound"
    }

