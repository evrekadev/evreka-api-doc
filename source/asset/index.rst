Asset Module
=================

Asset List
----------------

.. table::

   +-------------------+--------------------------------------------+
   | GET               | ``/asset/list``                            |
   +-------------------+--------------------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | Field Name              | Data Type                                                    | Description                                       | Value                                                 |
   +=========================+==============================================================+===================================================+=======================================================+
   | id                      | int                                                          | Asset ID                                          | 1                                                     |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | customerId              | string *(nullable)*                                          | Asset Customer ID                                 | Dev1Asset                                             |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | name                    | string                                                       | Asset Name                                        | MyAsset                                               |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | tagIdentifier           | string                                                       | TAG/UID                                           | 1223334444                                            |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | createTime              | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_         | Create Time                                       | 2014-09-17T10:30:00Z                                  |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | lastUpdateTime          | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_         | Update Time                                       | 2021-06-14T09:30:00Z                                  |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | lastDataTime            | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_         | Last Data Time                                    | 2023-04-07T18:15:00Z                                  |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   page = 1
   limit = 10
   service_url = f"/asset/list?page={page}&limit={limit}"

   # filter example #1
   # service_url += "&name_contains=test"

   # filter example #2
   # service_url += "tagIdentifier=123456"

   # filter example #3.1 | datetime between
   # service_url += "createTime=2023-04-07T18:15:00Z|2023-04-07T18:15:00Z"

   # filter example #3.2 | datetime start
   # service_url += "createTime=2023-04-07T18:15:00Z|"

   # filter example #3.3 | datetime end
   # service_url += "createTime=|2023-04-07T18:15:00Z"

   # sort example
   # service_url += "&sort=last_data_time-desc"

   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Detail
----------------

.. table::

   +-------------------+--------------------------------------------+
   | GET               | ``/asset/detail/{asset_id}``               |
   +-------------------+--------------------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | Field Name              | Data Type                                                    | Description                                       | Example Value                                         |
   +=========================+==============================================================+===================================================+=======================================================+
   | id                      | int                                                          | Asset ID                                          | 1                                                     |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | customerId              | string *(nullable)*                                          | Asset Customer ID                                 | Dev1Asset                                             |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | name                    | string                                                       | Asset Name                                        | MyAsset                                               |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | tagIdentifier           | string                                                       | TAG/UID                                           | 1223334444                                            |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | assetTypeId             | int                                                          | `Asset Type <#asset-types>`_                      | 1                                                     |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | operations              | array[int]                                                   | Operation IDs                                     | [1, 2, 3]                                             |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | fullness                | float                                                        | Fullness Rate                                     |                                                       |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | temperature             | float                                                        | Last Temperature                                  |                                                       |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | wasteTypeId             | int                                                          | `Waste Type <#asset-waste-types>`_                |                                                       |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | installationTypeId      | int                                                          | `Installation Type <#asset-installation-types>`_  |                                                       |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | statusLocationId        | string                                                       | Status Location ID                                |                                                       |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | statusLocationCode      | string                                                       | `Status Locations <#asset-status-locations>`_     |                                                       |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | payload                 | dict *(nullable)*                                            | Asset Payload                                     | {"dynamic_field1": "dynamic_value"}                   |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | location                | dict                                                         | Latitude, Longitude                               | {"latitude": 39.925054, "longitude": 32.8347499}      |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | statusId                | int                                                          | `Status <#asset-statuses>`_                       |                                                       |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | createTime              | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_         | Create Time                                       | 2014-09-17T10:30:00Z                                  |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | lastUpdateTime          | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_         | Update Time                                       | 2021-06-14T09:30:00Z                                  |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+
   | lastDataTime            | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_         | Last Data Time                                    | 2023-04-07T18:15:00Z                                  |
   +-------------------------+--------------------------------------------------------------+---------------------------------------------------+-------------------------------------------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   asset_id = "2024"
   service_url = f"/asset/detail/{asset_id}"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Activities
----------------

.. table::

   +-------------------+--------------------------------------------+
   | GET               | ``/asset/activities/list``                 |
   +-------------------+--------------------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | Field Name                   | Data Type                                                                        | Description                              | Example Value             |
   +==============================+==================================================================================+======================================================================+
   | id                           | `ObjectId <https://www.mongodb.com/docs/manual/reference/method/ObjectId/>`_     |                                          |                           |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | activityCategoryId           | int                                                                              | Asset Activity Category                  |                           |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | activityTypeId               | int                                                                              | Asset Activity Type                      |                           |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | value                        | dict {before,after}                                                              |                                          | {"before": 1, "after": 2} |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | assetId                      | int                                                                              |                                          |                           |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | sourceName                   | string                                                                           |                                          |                           |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | payload                      | dict *(nullable)*                                                                |                                          |                           |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | activityTime                 | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_                             |                                          | 2021-06-14T09:30:00Z      |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | createTime                   | `ISO 8601 <https://en.wikipedia.org/wiki/ISO_8601>`_                             |                                          | 2014-09-17T10:30:00Z      |
   +------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   service_url = "/asset/activities/list"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Types
----------------

.. table::

   +-------------------+-------------------+
   | GET               | ``/asset/types``  |
   +-------------------+-------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------+--------------+------------------+
   | Field Name        | Data Type    | Description      |
   +===================+==============+==================+
   | id                | int          |                  |
   +-------------------+--------------+------------------+
   | name              | string       |                  |
   +-------------------+--------------+------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   service_url = "/asset/types"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Installation Types
-------------------------

.. table::

   +-------------------+--------------------------------+
   | GET               | ``/asset/installation-types``  |
   +-------------------+--------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------+--------------+------------------+
   | Field Name        | Data Type    | Description      |
   +===================+==============+==================+
   | id                | int          |                  |
   +-------------------+--------------+------------------+
   | name              | string       |                  |
   +-------------------+--------------+------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   service_url = "/asset/installation-types"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Waste Types
--------------------

.. table::

   +-------------------+-------------------------+
   | GET               | ``/asset/waste-types``  |
   +-------------------+-------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------+--------------+------------------+
   | Field Name        | Data Type    | Description      |
   +===================+==============+==================+
   | id                | int          |                  |
   +-------------------+--------------+------------------+
   | name              | string       |                  |
   +-------------------+--------------+------------------+
   | color             | string       |                  |
   +-------------------+--------------+------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   service_url = "/asset/waste-types"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Statuses
----------------

.. table::

   +-------------------+-------------------------------+
   | GET               | ``/asset/statuses``           |
   +-------------------+-------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------+--------------+------------------------------------------------------+
   | Field Name        | Data Type    | Description                                          |
   +===================+==============+======================================================+
   | id                | int          |                                                      |
   +-------------------+--------------+------------------------------------------------------+
   | name              | string       |                                                      |
   +-------------------+--------------+------------------------------------------------------+
   | color             | string       |                                                      |
   +-------------------+--------------+------------------------------------------------------+
   | location          | string       | `Status Locations <#asset-status-locations>`_        |
   +-------------------+--------------+------------------------------------------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   service_url = "/asset/statuses"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Status Locations
-------------------------

Definitions
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------+------------------+
   | Code              | Value            |
   +===================+==================+
   | route             | In Route         |
   +-------------------+------------------+
   | service_point     | Service Point    |
   +-------------------+------------------+
   | mrf               | MRF              |
   +-------------------+------------------+
   | parcel            | Parcel           |
   +-------------------+------------------+
   | gps               | GPS              |
   +-------------------+------------------+


Asset Activity Categories
---------------------------

.. table::

   +-------------------+--------------------------------------------+
   | GET               | ``/asset/activities/categories``           |
   +-------------------+--------------------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------+--------------+------------------+
   | Field Name        | Data Type    | Description      |
   +===================+==============+==================+
   | id                | int          |                  |
   +-------------------+--------------+------------------+
   | name              | string       |                  |
   +-------------------+--------------+------------------+
   | enum              | string       |                  |
   +-------------------+--------------+------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   service_url = "/asset/activities/categories"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())


Asset Activity Types
---------------------------

.. table::

   +-------------------+--------------------------------------------+
   | GET               | ``/asset/activities/types``                |
   +-------------------+--------------------------------------------+

Data Structure
^^^^^^^^^^^^^^^^^

.. table::
   :width: 100%

   +-------------------+--------------+-----------------------------+
   | Field Name        | Data Type    | Description                 |
   +===================+==============+=============================+
   | id                | int          |                             |
   +-------------------+--------------+-----------------------------+
   | name              | string       |                             |
   +-------------------+--------------+-----------------------------+
   | enum              | string       |                             |
   +-------------------+--------------+-----------------------------+
   | categoryId        | int          | Asset Activity Category ID  |
   +-------------------+--------------+-----------------------------+

Example Code
^^^^^^^^^^^^^^^^^

.. code-block:: python

   import requests

   EVREKA360_API_BASE_URL = ""
   ACCESS_TOKEN = ""

   service_url = "/asset/activities/types"
   headers = {
        "Content-Type": "application/json; charset=utf-8",
        "Authorization": "Bearer " + ACCESS_TOKEN
   }

   resp = requests.get(EVREKA360_API_BASE_URL + service_url, headers=headers)
   print(resp.status_code, resp.json())
